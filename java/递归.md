### 打印字符串的全部子序列

字串和子序列：以"abcdef"为例，字串是要求必须连续的，如"bcd"，但是"abd"就不是子串。子序列则是要求顺序一致就可以，"bcd"，"abd"都属于子序列。

如果要打印全部字串，只需要进行两层循环，判断出起始位置和结尾的位置就行。

```java
String str = "abcdef";
for(int i = 0; i < str.length(); i++){
    for(int j = i ; j < str.length(); j++) {
        System.out.println(str.substring(i,j+1)); //这里j+1是因为substring是左闭右开区间
    }
}
```

因为子序列不要求连续，所以我们只需要判断第k（ 0 < k < str.length() ）个位置到底需不需要加进来，如下图：

![](img/全部子序列全排列树.PNG)

这样就构成了一个二叉树，只需要用递归的方式实现这棵二叉树就可以了。

```java
  /**
     * 
     * @param str 输入的字符串
     * @param index 当前到哪一个下标处
     * @param list  将所有的子序列保存在list中
     * @param subSerial 从0开始记录的子序列
     */
    public static void subSerials(String str,int index, List<String> list, String subSerial) {
        if(index == str.length()){
            list.add(subSerial);
            return ;
        }

        subSerials(str,index+1,list,subSerial); //不加这一位
        subSerials(str,index+1,list,subSerial + str.charAt(index)); //加这一位
    }
```

### 打印字符串的全部子序列,要求子序列的值不重复出现

这个相比较前一题来说只需要将得到的结果进行一次去重就可以了，这里用HashSet来去重。

```java
    public static void subSerials(String str, int index, HashSet<String> set, String subSerial) {
        if(index == str.length()){
            if(!set.contains(subSerial))
                set.add(subSerial);
            return ;
        }

        subSerials(str,index+1,set,subSerial); //不加这一位
        subSerials(str,index+1,set,subSerial + str.charAt(index)); //加这一位
    }
```

### 打印一个字符串的全部排列

打印全部排列的一个常用方法就是把第k(0 <= k < str.length())位以后的每一个值轮流交换到第k位，最终递归的结果也是一棵树。

```java
 /**
     * 
     * @param arr 原字符串转成的数组
     * @param index 当前执行的下标位置
     * @param list list保存所有的排列
     */
    public static void arrange(char[] arr,int index, List<String> list) {
        if(index == arr.length) {
            list.add(String.valueOf(arr));
            return;
        }

        for(int j = index ; j < arr.length; j++ ) {
            swap(arr, index,j);
            arrange(arr,index +1,list);
            swap(arr,index,j);
        }

    }

    private static void swap(char[] arr, int i, int j) {
        char tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
    }

```

